"use strict";(self.webpackChunk_1dex_fornt=self.webpackChunk_1dex_fornt||[]).push([[731],{9731:(e,t,n)=>{n.r(t),n.d(t,{SwapPage:()=>W});let a=function(e){return e[e.none=0]="none",e[e.vertical=1]="vertical",e[e.horizontal=2]="horizontal",e[e.both=3]="both",e}({});var s=n(184);const i={[a.both]:"justify-center items-center",[a.horizontal]:"justify-center",[a.vertical]:"items-center",[a.none]:""};function o(e){return(0,s.jsx)("div",{className:`flex ${e.reverse?"flex-col-reverse":"flex-col"} ${i[e.centerize||a.none]} ${e.className||""}`,children:e.children})}var r=n(1459),l=n(3791),c=n(9202),d=n(2791);const x={[a.both]:"justify-center items-center",[a.horizontal]:"items-center",[a.vertical]:"justify-center",[a.none]:""};function u(e){return(0,s.jsx)("div",{className:`flex ${e.reverse?"flex-row-reverse":"flex-row"} ${x[e.centerize||a.none]} ${e.className||""}`,children:e.children})}function h(e){return(0,s.jsx)("button",{disabled:e.disabled,className:`py-2 px-5 text-white rounded-xl ${e.className||""}`,onClick:e.onClick,children:e.children})}const m=function(e){var t;const n=t=>()=>{e.onActive&&e.onActive(t)};return(0,s.jsxs)(o,{className:"w-full",children:[(0,s.jsx)(u,{className:"justify-start border-b-white border-b",reverse:!0,children:(0,s.jsx)(u,{className:"py-5 gap-x-5",children:null===(t=e.tabs)||void 0===t?void 0:t.map(((t,a)=>(0,s.jsx)(h,{onClick:n(a),className:`border ${e.activeTab===a?"bg-theme-blue border-white transition-all":"bg-transparent border-transparent transition-all"} transition-all`,children:t},`${a}-${Date.now()}-tabBoxItemInstance`)))})}),(0,s.jsx)(o,{className:e.className||"",children:e.children})]})};var p=n(1838),v=n(9658),b=n(6212),f=n(3830),g=n(5054),w=n(9716),j=n(2257),y=n(3580),k=n(1837),N=n(7792),C=n(5),I=n(3530),T=n(558),S=n(8739),E=n(1074);function D(e){var t,n,a,i;const r=(0,C.a)((null===(t=e.token)||void 0===t?void 0:t.address)||"","USD")||"0";(0,d.useMemo)((()=>{var t;return null===(t=e.tokens)||void 0===t?void 0:t.findIndex((t=>{var n;return t.address===(null===(n=e.token)||void 0===n?void 0:n.address)}))}),[null===(n=e.token)||void 0===n?void 0:n.address,e.tokens]);return(0,s.jsxs)(o,{className:"w-full bg-white bg-opacity-50 p-5 gap-y-5 "+(e.reverse?"rounded-tl-3xl rounded-br-3xl":"rounded-tr-3xl rounded-bl-3xl"),children:[(0,s.jsxs)("div",{className:"flex justify-between border-b border-theme-primary pb-5",children:[(0,s.jsx)("div",{children:(0,s.jsx)(I.Z,{id:"token",disabled:e.loadingNetworks,items:[null===(a=e.networks)||void 0===a?void 0:a.at((null===e||void 0===e?void 0:e.activeNetwork)||0)].map((e=>({icon:(null===e||void 0===e?void 0:e.iconUrl)||"",title:(null===e||void 0===e?void 0:e.nativeCoinSymbol)||""}))),title:"\u062a\u0648\u06a9\u0646 \u0631\u0627 \u0627\u0646\u062a\u062e\u0627\u0628 \u06a9\u0646\u06cc\u062f",value:0,onSelect:t=>{var n;e.onTokenChange&&e.onTokenChange((null===(n=e.tokens)||void 0===n?void 0:n.at(t))||new T.w("",(0,s.jsx)(s.Fragment,{}),"",""))}})}),(0,s.jsxs)("div",{className:"flex items-center flex-row-reverse gap-x-5",children:[(0,s.jsx)("span",{className:"text-white text-2xl",children:e.boxTitle||"\u0627\u0632"}),(0,s.jsx)(I.Z,{id:"netwoks",disabled:e.loadingNetworks,items:null===(i=e.networks)||void 0===i?void 0:i.map((e=>({title:e.networkName,icon:e.iconUrl}))),title:"\u0634\u0628\u06a9\u0647 \u0631\u0627 \u0627\u0646\u062a\u062e\u0627\u0628 \u06a9\u0646\u06cc\u062f",value:e.activeNetwork,onSelect:t=>{var n;e.onNetworkChange&&e.onNetworkChange((null===(n=e.networks)||void 0===n?void 0:n.at(t))||S.p[t])}})]})]}),(0,s.jsx)("div",{children:(0,s.jsx)("input",{type:"number",placeholder:"0.0",disabled:e.disabled,value:e.amount,onChange:t=>{e.onAmountChange&&e.onAmountChange(+t.currentTarget.value)},className:"w-full text-right outline-none bg-transparent text-theme-white text-3xl placeholder:text-white"})}),(0,s.jsxs)(u,{className:"justify-between items-center",children:[(0,s.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,s.jsx)("div",{children:(0,s.jsx)(k.o,{})}),(0,s.jsx)("span",{className:"text-2xl pt-1 text-theme-primary",children:(0,E.T)((0,y.formatEther)(e.balance||(0,y.formatUnits)("0")))})]}),(0,s.jsx)("div",{className:"flex items-center text-theme-primary pb-0.5",children:(0,s.jsxs)("span",{className:"text-2xl ",children:["$",r]})})]})]})}var $=n(8629),z=n(5316);function A(e,t){const[n,a]=(0,d.useState)((0,y.parseUnits)("0"));return(0,d.useEffect)((()=>{e&&async function(e){const t=e,n=new z.r("https://rpc.ankr.com/zetachain_evm_athens_testnet");return await n.getBalance(t)}(e).then((e=>{a(e)}))}),[e,t]),{balance:n}}const M=(e,t,n)=>{const a=((e,t)=>{const n=g.$;for(let a=0;a<t.length;a++)"bytes32"===e[a]&&(t[a]=w.hexlify(w.zeroPad(t[a],32)));return n.encode(e,t)})(t,n);return`${e}${a.slice(2)}`};function F(e){const[t,n]=(0,d.useState)(!1),[a,i]=(0,d.useState)(0),{networkList:x,changeNetwork:u,networkIndex:h,loading:m}=(0,p.LN)(),{account:g}=(0,r.K)(),{balance:w}=A(g||"",x[h]),C=(0,b.M)(g,{chainId:x[h].chainId})||(0,y.parseUnits)("0"),I=(0,d.useMemo)((()=>0===a||(0,y.parseUnits)(a.toString()).gt(7001===x[h].chainId?w:C)),[a,C,h,x,w]),T=(0,d.useMemo)((()=>x.filter((e=>e.chainId!==x[h].chainId))),[h,x]),[S,E]=(0,d.useState)(0),z=(0,b.M)(g,{chainId:T[S].chainId})||(0,y.parseUnits)("0");return(0,s.jsxs)(o,{children:[(0,s.jsxs)("div",{className:"flex flex-col gap-y-4 relative",children:[(0,s.jsx)(D,{networks:x,balance:7001===x[h].chainId?w:C,loadingNetworks:m,activeNetwork:Math.max(h,0),onNetworkChange:e=>u(e),onAmountChange:e=>{i(e)}}),(0,s.jsx)("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2",children:(0,s.jsx)(v.Z,{sx:{borderRadius:"50%",transition:"0.25s ease",rotate:t?"180deg":"0deg"},onClick:async()=>{try{const e=x[h],a=T[S];await u(a),n(!t);const s=x.filter((e=>e.chainId!==a.chainId)).findIndex((t=>t.chainId===e.chainId));console.log(x,s),E(Math.max(s,0))}catch(e){return void console.log(e)}},children:(0,s.jsx)("div",{className:"bg-theme-primary p-2.5 rounded-full border border-white w-12 h-12 flex justify-center items-center",children:(0,s.jsx)(k.Dt,{})})})}),(0,s.jsx)(D,{reverse:!0,disabled:!0,balance:7001===T[S].chainId?w:z,boxTitle:"\u0628\u0647",activeNetwork:S,networks:T,loadingNetworks:m,onNetworkChange:e=>E(T.findIndex((t=>t.chainId===e.chainId)))})]}),(0,s.jsx)("div",{className:"py-2 flex justify-center items-center",children:e.account?(0,s.jsx)("button",{disabled:I,onClick:async()=>{var e;console.log(T[S].zetaChainID);const t=(0,f.getAddress)("zrc20",T[S].zetaChainID),n=(0,f.getAddress)("tss",x[h].zetaChainID),s=(0,y.parseEther)(a.toString()),i=j.O$.from("0"),o=t?M("0xe585CeaD516B5AcE6c93FDf6F0c0a72cf5822DBa",["address","bytes32","uint256"],[t,g,i]):M("0xe585CeaD516B5AcE6c93FDf6F0c0a72cf5822DBa",["bytes32"],[g]),r=await(null===(e=(0,N.T)(g||""))||void 0===e?void 0:e.sendTransaction({data:o,to:n,value:s}));await(null===r||void 0===r?void 0:r.wait())},dir:"rtl",className:"bg-white w-full py-2.5 text-xl\r rounded-lg disabled:bg-opacity-60 transition-all disabled:cursor-not-allowed font-bold text-theme-primary outline-none",children:(0,s.jsx)(l.M,{mode:"wait",initial:!0,children:I?(0,s.jsx)(c.E.span,{initial:{x:10,opacity:0},animate:{x:0,opacity:1},exit:{x:-10,opacity:0},children:0===a?"\u0645\u0642\u062f\u0627\u0631 \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f":"\u0645\u0642\u062f\u0627\u0631 \u0648\u0627\u0631\u062f \u0634\u062f\u0647 \u0628\u06cc\u0634\u062a\u0631 \u0627\u0632 \u0645\u0642\u062f\u0627\u0631 \u0645\u0648\u062c\u0648\u062f \u0627\u0633\u062a"},"insufficientValue"):(0,s.jsx)(c.E.span,{initial:{x:10,opacity:0},animate:{x:0,opacity:1},exit:{x:-10,opacity:0},children:"\u062a\u0628\u062f\u06cc\u0644"},"exchange")})}):(0,s.jsx)($.p,{className:"bg-white w-full py-2.5 text-xl rounded-lg font-bold text-theme-primary"})})]})}var U=n(673),_=n(930),B=n(4029),Z=n(7719),L=n(8637),V=n(1544),H=n(5885),K=n(3439),P=n(3239);function R(e){var t,n,a;const i=(0,C.a)((null===(t=e.token)||void 0===t?void 0:t.address)||"","USD")||"0",r=(0,d.useMemo)((()=>{var t;return null===(t=e.tokens)||void 0===t?void 0:t.findIndex((t=>{var n;return t.address===(null===(n=e.token)||void 0===n?void 0:n.address)}))}),[null===(n=e.token)||void 0===n?void 0:n.address,e.tokens]);return(0,s.jsxs)(o,{className:"w-full bg-white bg-opacity-50 p-5 gap-y-5 "+(e.reverse?"rounded-tl-3xl rounded-br-3xl":"rounded-tr-3xl rounded-bl-3xl"),children:[(0,s.jsxs)("div",{className:"grid grid-cols-10",children:[(0,s.jsx)("div",{className:"col-span-3",children:e.loadingTokens?(0,s.jsx)(P.Z,{}):(0,s.jsx)(I.Z,{id:"token",items:null===(a=e.tokens)||void 0===a?void 0:a.map((e=>({title:e.symbol,icon:`/coins/${e.symbol}.webp`}))),title:"\u062a\u0648\u06a9\u0646 \u0631\u0627 \u0627\u0646\u062a\u062e\u0627\u0628 \u06a9\u0646\u06cc\u062f",value:r,onSelect:t=>{var n;e.onTokenChange&&e.onTokenChange((null===(n=e.tokens)||void 0===n?void 0:n.at(t))||new T.w("",(0,s.jsx)(s.Fragment,{}),"",""))}})}),(0,s.jsx)("input",{type:"number",placeholder:"0.0",disabled:e.disabled,value:e.amount,onChange:t=>{e.onAmountChange&&e.onAmountChange(+t.currentTarget.value)},className:"w-full col-span-7 text-right outline-none bg-transparent text-theme-white text-3xl placeholder:text-white"})]}),(0,s.jsxs)(u,{className:"justify-between items-center",children:[(0,s.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,s.jsx)("div",{children:(0,s.jsx)(k.o,{})}),(0,s.jsx)("span",{className:"text-2xl pt-1 text-theme-primary",children:e.token?e.balance?(0,E.T)((0,y.formatEther)(e.balance||(0,y.formatUnits)("0"))):(0,s.jsx)(P.Z,{}):(0,s.jsx)(s.Fragment,{})})]}),(0,s.jsx)("div",{className:"flex items-center text-theme-primary pb-0.5",children:(0,s.jsxs)("span",{className:"text-2xl ",children:["$",i]})})]})]})}let q=function(e){return e[e.none=0]="none",e[e.approve=1]="approve",e[e.approving=2]="approving",e[e.swap=3]="swap",e[e.swapping=4]="swapping",e[e.insufficientValue=5]="insufficientValue",e}({});const O={[q.none]:"",[q.approve]:"\u062a\u0627\u06cc\u06cc\u062f",[q.approving]:"\u062f\u0631\u062d\u0627\u0644 \u062a\u0627\u06cc\u06cc\u062f...",[q.swap]:"\u062a\u0628\u062f\u06cc\u0644",[q.swapping]:"\u062f\u0631\u062d\u0627\u0644 \u062a\u0628\u062f\u06cc\u0644...",[q.insufficientValue]:"\u0645\u0642\u062f\u0627\u0631 \u0648\u0627\u0631\u062f \u0634\u062f\u0647 \u0628\u06cc\u0634\u062a\u0631 \u0627\u0632 \u0645\u0642\u062f\u0627\u0631 \u0645\u0648\u062c\u0648\u062f \u0627\u0633\u062a"};function G(e){const[t,n]=(0,d.useState)(!1),a=(0,d.useRef)(),[i,x]=(0,d.useState)(!1),[u,h]=(0,d.useState)(!1),{account:m}=(0,r.K)(),{loading:f,tokens:g}=(0,V.r)(),[w,j]=(0,d.useState)(),C=(0,U.m)(null===w||void 0===w?void 0:w.address,m),[I,T]=(0,d.useState)("0"),[S,E]=(0,d.useState)(),D=(0,U.m)(null===S||void 0===S?void 0:S.address,m),z=(0,p.zH)(+I,w,S),A=(0,b.M)(m),{loading:M,tokens:F}=(0,V.r)(null===w||void 0===w?void 0:w.address),{approve:P,isApproved:G}=(0,p.o8)(w,I.toString()),J=(0,_.j)(new B.CH(H.t,L.qk,(0,N.T)(m||"")),"swapExactTokensForTokens",{transactionName:"swapExactTokensForTokens",gasLimitBufferPercentage:10}),Q=(0,d.useMemo)((()=>!!C&&("0"!==I&&(0,y.parseUnits)(I).gt(C))),[I,C]);return(0,s.jsxs)(o,{children:[(0,s.jsxs)("div",{className:"flex flex-col gap-y-4 relative",children:[(0,s.jsx)(R,{loadingTokens:f,tokens:g,balance:"ETH"===(null===w||void 0===w?void 0:w.symbol)?A:C,onTokenChange:e=>j(e),token:w,account:m,onAmountChange:e=>{T(e.toString())},amount:I}),(0,s.jsx)("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2",children:(0,s.jsx)(v.Z,{sx:{borderRadius:"50%",transition:"0.25s ease",rotate:t?"180deg":"0deg"},onClick:()=>{n(!t),a.current=w,j(S),E(a.current),T(z.toString())},children:(0,s.jsx)("div",{className:"bg-theme-primary p-2.5 rounded-full border border-white w-12 h-12 flex justify-center items-center",children:(0,s.jsx)(k.Dt,{})})})}),(0,s.jsx)(R,{reverse:!0,loadingTokens:M,tokens:F,balance:"ETH"===(null===S||void 0===S?void 0:S.symbol)?A:D,token:S,onTokenChange:e=>E(e),account:m,amount:z.toString(),disabled:!0})]}),(0,s.jsx)("div",{className:"py-2 flex justify-center items-center",children:e.account?(0,s.jsx)("button",{disabled:u||i||Q||!w||!S||0===+I,onClick:G?async()=>{h(!0),(0,Z.D)(J.send((0,y.parseEther)((null===I||void 0===I?void 0:I.toString())||"0.0"),(0,y.parseEther)("0"),[null===w||void 0===w?void 0:w.address,null===S||void 0===S?void 0:S.address],m,Math.floor(Date.now()/1e3)+1200,{gasLimit:6e6})).subscribe({next:e=>{e?(0,K.h)({message:(0,s.jsxs)(s.Fragment,{children:[" ","\u062a\u0628\u062f\u06cc\u0644 \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u0627\u0646\u062c\u0627\u0645 \u0634\u062f"," ",(0,s.jsx)("a",{href:"https://goerli.etherscan.io/tx/"+e.transactionHash,target:"_blank",className:"text-blue-500",children:"\u0628\u0631\u0627\u06cc \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0628\u06cc\u0634\u062a\u0631 \u0627\u06cc\u0646\u062c\u0648 \u06a9\u0644\u06cc\u06a9 \u06a9\u0646"})," "]}),mode:"success"}):(0,K.h)({message:(0,s.jsxs)(s.Fragment,{children:[" ","\u062f\u0631\u062e\u0648\u0627\u0633\u062a \u062a\u0628\u062f\u06cc\u0644 \u0628\u0627 \u062e\u0637\u0627 \u0645\u0648\u0627\u062c\u0647 \u0634\u062f"," "]}),mode:"error"}),console.log(e)},complete:()=>{h(!1)}})}:()=>{x(!0),(0,Z.D)(P()).subscribe({complete:()=>x(!1)})},dir:"rtl",className:"bg-white w-full py-2.5 text-xl  rounded-lg disabled:bg-opacity-60 transition-all disabled:cursor-not-allowed font-bold text-theme-primary outline-none",children:(0,s.jsx)(l.M,{mode:"wait",initial:!0,children:w&&S?G?(0,s.jsx)(c.E.span,{initial:{x:10,opacity:0},animate:{x:0,opacity:1},exit:{x:-10,opacity:0},children:Q?O[q.insufficientValue]:0===+I?"\u0645\u0642\u062f\u0627\u0631 \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f":O[u?q.swapping:q.swap]},"swap"):(0,s.jsx)(c.E.span,{initial:{x:10,opacity:0},animate:{x:0,opacity:1},exit:{x:-10,opacity:0},children:Q?O[q.insufficientValue]:0===+I?"\u0645\u0642\u062f\u0627\u0631 \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f":O[i?q.approving:q.approve]},"approve"):(0,s.jsx)(s.Fragment,{children:"\u0644\u0637\u0641\u0627 \u062a\u0648\u06a9\u0646 \u0647\u0627\u06cc \u062e\u0648\u062f \u0631\u0627 \u0627\u0646\u062a\u062e\u0627\u0628 \u06a9\u0646\u06cc\u062f"})})}):(0,s.jsx)($.p,{className:"bg-white w-full py-2.5 text-xl rounded-lg font-bold text-theme-primary"})})]})}const J=["\u062a\u0628\u062f\u06cc\u0644 \u0633\u0627\u062f\u0647","\u062a\u0628\u062f\u06cc\u0644 \u067e\u06cc\u0634\u0631\u0641\u062a\u0647"].reverse();function Q(){const[e,t]=(0,d.useState)(1),{account:n}=(0,r.K)(),{changeNetwork:i,networkIndex:x,networkList:h}=(0,p.LN)(),v=async e=>{if(1===e)if(0!==x)try{await i(h[0]),t(e)}catch(n){v(e)}else t(e);else t(e)};return(0,s.jsx)(u,{className:"mx-auto w-full",centerize:a.both,children:(0,s.jsx)(o,{className:"w-6/12 min-w-[400px] max-w-6xl",children:(0,s.jsx)(m,{tabs:J,activeTab:e,onActive:v,className:"p-5 transition-all",children:(0,s.jsx)(l.M,{initial:!0,mode:"wait",children:1===e?(0,s.jsx)(c.E.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},exit:{x:-20,opacity:0},children:(0,s.jsx)(G,{account:n})},"default"):(0,s.jsx)(c.E.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},exit:{x:-20,opacity:0},children:(0,s.jsx)(F,{account:n})},"advanced")})})})})}function W(){return(0,s.jsx)(o,{centerize:a.both,className:"w-full h-[30vw] ",children:(0,s.jsx)(Q,{})})}}}]);
//# sourceMappingURL=731.96ea3d57.chunk.js.map